<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Renuar Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ===== Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø© Ø¨ØµÙˆØ±Ø© Ø§Ù„Ø´Ø¹Ø§Ø± ØªØºØ·ÙŠ ÙƒÙ„ Ø§Ù„Ø´Ø§Ø´Ø© ===== */
    html, body { height: 100%; margin: 0 }
    body{
      font-family: Arial, sans-serif;
      color:#222;
      text-align:center;
      position:relative;
      min-height:100%;
      /* Ø§Ù„Ø®Ù„ÙÙŠØ©: ØªØºØ·ÙŠØ© ÙƒØ§Ù…Ù„Ø© + Ø«Ø¨Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
      background-image:url('A9C545BF-4320-44BB-82C4-58F506EBD479.jpeg');
      background-size:cover;           /* ØªØºØ·ÙŠ ÙƒØ§Ù…Ù„ Ø§Ù„Ø´Ø§Ø´Ø© */
      background-position:center;      /* ØªØªÙ…Ø±ÙƒØ² */
      background-attachment:fixed;     /* Ø«Ø§Ø¨ØªØ© Ø¹Ù†Ø¯ Ø§Ù„Ø³Ù’ÙƒØ±ÙˆÙ„ */
      background-repeat:no-repeat;     /* Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø± */
    }
    /* Ø·Ø¨Ù‚Ø© ØªÙØªÙŠØ­ ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„ØªØ³Ù‡ÙŠÙ„ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:linear-gradient(to bottom, rgba(255,255,255,.82), rgba(255,255,255,.9));
      pointer-events:none; z-index:0;
    }

    /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    .container{
      position:relative; z-index:1;
      max-width:800px; margin:24px auto; padding:18px;
      background:rgba(255,255,255,.95);
      border-radius:12px;
      box-shadow:0 10px 28px rgba(0,0,0,.15);
    }

    header{
      position:sticky; top:0; z-index:2;
      background:rgba(0,36,77,.88);
      color:#fff; padding:14px 16px; font-size:22px; font-weight:700;
      backdrop-filter:saturate(1.2) blur(2px);
    }

    input,button{
      padding:10px; margin:6px; font-size:16px; border-radius:8px; border:1px solid #d0d6e0;
    }
    input{ min-width:240px; }
    button{
      background:#003366; color:#fff; border:none; cursor:pointer;
      box-shadow:0 6px 16px rgba(0,51,102,.25); font-weight:700;
      transition:background .2s, transform .05s;
    }
    button:hover{ background:#0050a8 }
    button:active{ transform:translateY(1px) }

    #results, #localList{
      text-align:left; margin:16px auto 0; padding:12px;
      background:#f7f9fc; border:1px solid #e7ebf2; border-radius:8px; min-height:48px;
      max-width:760px;
    }

    /* Ù„ÙˆØ­Ø© Host */
    #hostArea{ display:none; margin-top:18px; padding:14px; background:#eef5ff; border:1px solid #cfe0ff; border-radius:10px }
    footer{ position:relative; z-index:1; color:#666; font-size:12px; padding:12px 0; }
  </style>
</head>
<body>
  <header>ğŸ” Renuar Finder</header>

  <div class="container">
    <h2>×—×¤×© ×¤×¨×™×˜ ×œ×¤×™ ××§×´×˜ ××• ×©×</h2>
    <input id="searchInput" type="text" placeholder="×”×–×Ÿ ××§×´×˜ ××• ×©× ×¤×¨×™×˜">
    <br>
    <button id="btnLocal">×—×¤×© ×‘××ª×¨ ×©×œ×™</button>
    <button id="btnRenuar">×—×¤×© ×‘×¨× ×•××¨</button>
    <button id="btnHome">×¤×ª×— ××ª×¨ ×¨× ×•××¨</button>
    <button id="btnClear">× ×§×”</button>
    <p id="msg"></p>

    <div id="results"></div>

    <hr style="margin:24px 0">

    <!-- Ø¯Ø®ÙˆÙ„ Host -->
    <div id="loginBox">
      <h3>ğŸ”‘ ×›× ×™×¡×ª Host</h3>
      <input id="hostPass" type="password" placeholder="×¡×™×¡××” (1234)">
      <button id="btnLogin">×›× ×™×¡×”</button>
    </div>

    <!-- Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ù€Host -->
    <div id="hostArea">
      <h3>â• ×”×•×¡×¤×ª ××•×¦×¨</h3>
      <input id="sku"   type="text" placeholder="××§×´×˜">
      <input id="name"  type="text" placeholder="×©× ×¤×¨×™×˜">
      <input id="price" type="number" placeholder="××—×™×¨ (â‚ª)">
      <input id="link"  type="text" placeholder="×§×™×©×•×¨ (××•×¤×¦×™×•× ×œ×™)">
      <button id="btnAdd">×”×•×¡×£</button>

      <div id="localList"></div>
    </div>
  </div>

  <footer>Â© 2025 Renuar Finder â€“ static demo</footer>

  <!-- ===== Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª: ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ù€Host ===== -->
  <script>
    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØªØ®Ø²ÙŠÙ† */
    const LS_KEY = 'renuarDB';
    const HOST_PASS = '1234';
    let DB = [];
    try{ DB = JSON.parse(localStorage.getItem(LS_KEY) || '[]'); }catch{ DB = []; }

    const byId = id => document.getElementById(id) || null;
    const setText = (id, t)=>{ const el=byId(id); if(el) el.textContent=t; };
    const normalize = s => (s||'').replace(/[\\u0591-\\u05C7]/g,'').replace(/\\s+/g,' ').trim().toLowerCase();

    function renUrl(q){ return 'https://www.renuar.co.il/catalogsearch/result/?q='+encodeURIComponent(q); }

    function renderList(items){
      const cont = byId('results') || byId('localList');
      if(!cont) return;
      if(!items || !items.length){ cont.innerHTML = '××™×Ÿ ×ª×•×¦××•×ª ×¢×“×™×™×Ÿ.'; return; }
      cont.innerHTML = items.map(p => \`
        <p><b>\${p.name || ''}</b> (SKU: \${p.sku || ''}) â€” â‚ª\${p.price || '-'}
        \${p.link ? ' â€” <a href="\'+p.link+\'" target="_blank" rel="noopener">×§×™×©×•×¨</a>' : ''}</p>
      \`).join('');
    }

    function readQuery(){ return normalize(byId('searchInput')?.value); }

    /* Ø¨Ø­Ø« Ù…Ø­Ù„ÙŠ */
    function searchLocal(){
      const q = readQuery(); const info = byId('msg');
      if(!q){ if(info){info.style.color='red'; info.textContent='× × ×œ×”×–×™×Ÿ ××§×´×˜ ××• ×©×';} return; }
      const hits = DB.filter(p=>{
        const sku=String(p.sku||'').toLowerCase();
        const name=normalize(p.name);
        return sku===q || sku.includes(q) || (name && name.includes(q));
      });
      renderList(hits);
      if(info){ info.style.color='#555'; info.textContent = hits.length ? '× ××¦× ×‘××—×™×¨×•×Ÿ ×”××§×•××™.' : '×œ× × ××¦××” ×ª×•×¦××” ××§×•××™×ª.'; }
    }

    /* Ø±× ×•××¨ */
    function searchRenuar(){ const raw = byId('searchInput')?.value.trim(); if(!raw) return setText('msg','× × ×œ×”×–×™×Ÿ ×¢×¨×š'); window.open(renUrl(raw),'_blank','noopener'); }
    function openRenuar(){ window.open('https://www.renuar.co.il/home','_blank','noopener'); }

    /* Host */
    let isHost=false;
    function hostLogin(){ if((byId('hostPass')?.value||'')===HOST_PASS){ isHost=true; byId('hostArea').style.display='block'; byId('loginBox').style.display='none'; } else alert('×¡×™×¡××” ×œ× × ×›×•× ×”'); }
    function addItem(){
      if(!isHost) return alert('×¨×§ Host ×™×›×•×œ ×œ×”×•×¡×™×£');
      const sku=byId('sku').value.trim(), name=byId('name').value.trim(), price=byId('price').value.trim(), link=byId('link').value.trim();
      if(!sku||!name||!price) return alert('××œ× ××§×´×˜/×©×/××—×™×¨');
      DB.push({sku,name,price,link});
      localStorage.setItem(LS_KEY, JSON.stringify(DB));
      ['sku','name','price','link'].forEach(id=>byId(id).value='');
      renderList(DB);
      alert('âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©');
    }

    /* ØªÙ†Ø¸ÙŠÙ */
    function clearAll(){ const i=byId('searchInput'); if(i) i.value=''; byId('results').innerHTML=''; setText('msg','ØªÙ… Ø§Ù„Ù…Ø³Ø­. Ø§ÙƒØªØ¨ Ù‚ÙŠÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø©.'); }

    /* Ø±Ø¨Ø· Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    function bind(id, fn){ const el=byId(id); if(el) el.addEventListener('click', e=>{ e.preventDefault(); try{ fn(); }catch(err){ console.error(err); alert('Ø­Ø¯Ø« Ø®Ø·Ø£'); }}); }

    document.addEventListener('DOMContentLoaded', ()=>{
      const inp=byId('searchInput'); if(inp) inp.addEventListener('keydown', e=>{ if(e.key==='Enter'){ e.preventDefault(); searchLocal(); }});
      bind('btnLocal',  searchLocal);
      bind('btnRenuar', searchRenuar);
      bind('btnHome',   openRenuar);
      bind('btnClear',  clearAll);
      bind('btnLogin',  hostLogin);
      bind('btnAdd',    addItem);
      renderList(DB);
    });
  </script>
</body>
</html>
